{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":253},"end":{"line":6,"column":79,"index":332}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./ViewHolder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":333},"end":{"line":7,"column":42,"index":375}}],"key":"6LHbfUGWued0llbhWF4FCHrz0ps=","exportNames":["*"],"imports":1}},{"name":"./components/CompatView","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":376},"end":{"line":8,"column":53,"index":429}}],"key":"x3xyTyYEOkCA+EAT5e8aUviD1aY=","exportNames":["*"],"imports":1}},{"name":"./RecyclerViewContextProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":430},"end":{"line":9,"column":71,"index":501}}],"key":"xkzKodpiEh9PM1d4t93OubNRFfg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"ViewHolderCollection\", {\n    enumerable: true,\n    get: function () {\n      return ViewHolderCollection;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopDefault(_react);\n  var _ViewHolder = require(_dependencyMap[1], \"./ViewHolder\");\n  var _componentsCompatView = require(_dependencyMap[2], \"./components/CompatView\");\n  var _RecyclerViewContextProvider = require(_dependencyMap[3], \"./RecyclerViewContextProvider\");\n  /**\n   * ViewHolderCollection is a container component that manages multiple ViewHolder instances.\n   * It handles the rendering of a collection of list items, manages layout updates,\n   * and coordinates with the RecyclerView context for layout changes.\n   */\n\n  /**\n   * ViewHolderCollection component that manages the rendering of multiple ViewHolder instances\n   * and handles layout updates for the entire collection\n   * @template TItem - The type of items in the data array\n   */\n  const ViewHolderCollection = props => {\n    const {\n      data,\n      renderStack,\n      getLayout,\n      refHolder,\n      onSizeChanged,\n      renderItem,\n      extraData,\n      viewHolderCollectionRef,\n      getChildContainerLayout,\n      onCommitLayoutEffect,\n      CellRendererComponent,\n      ItemSeparatorComponent,\n      onCommitEffect,\n      horizontal,\n      getAdjustmentMargin,\n      currentStickyIndex,\n      hideStickyHeaderRelatedCell\n    } = props;\n    const [renderId, setRenderId] = React.default.useState(0);\n    const containerLayout = getChildContainerLayout();\n    const fixedContainerSize = horizontal ? containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.height : containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.width;\n    const recyclerViewContext = (0, _RecyclerViewContextProvider.useRecyclerViewContext)();\n    (0, _react.useLayoutEffect)(() => {\n      if (renderId > 0) {\n        // console.log(\n        //   \"parent layout trigger due to child container size change\",\n        //   fixedContainerSize\n        // );\n        recyclerViewContext === null || recyclerViewContext === void 0 ? void 0 : recyclerViewContext.layout();\n      }\n      // we need to run this callback on when fixedContainerSize changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fixedContainerSize]);\n    (0, _react.useLayoutEffect)(() => {\n      if (renderId > 0) {\n        onCommitLayoutEffect === null || onCommitLayoutEffect === void 0 ? void 0 : onCommitLayoutEffect();\n      }\n      // we need to run this callback on when renderId changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [renderId]);\n    (0, _react.useEffect)(() => {\n      if (renderId > 0) {\n        onCommitEffect === null || onCommitEffect === void 0 ? void 0 : onCommitEffect();\n      }\n      // we need to run this callback on when renderId changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [renderId]);\n    // Expose forceUpdate through ref\n    (0, _react.useImperativeHandle)(viewHolderCollectionRef, () => ({\n      commitLayout: () => {\n        // This will trigger a re-render of the component\n        setRenderId(prev => prev + 1);\n      }\n    }), [setRenderId]);\n    const hasData = data && data.length > 0;\n    const containerStyle = {\n      width: horizontal ? containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.width : undefined,\n      height: containerLayout === null || containerLayout === void 0 ? void 0 : containerLayout.height,\n      marginTop: horizontal ? undefined : getAdjustmentMargin(),\n      marginLeft: horizontal ? getAdjustmentMargin() : undefined,\n      // TODO: Temp workaround, useLayoutEffect doesn't block paint in some cases\n      // We need to investigate why this is happening\n      opacity: renderId > 0 ? 1 : 0\n    };\n    // sort by index and log\n    // const sortedRenderStack = Array.from(renderStack.entries()).sort(\n    //   ([, a], [, b]) => a.index - b.index\n    // );\n    // console.log(\n    //   \"sortedRenderStack\",\n    //   sortedRenderStack.map(([reactKey, { index }]) => {\n    //     return `${index} => ${reactKey}`;\n    //   })\n    // );\n    return /*#__PURE__*/React.default.createElement(_componentsCompatView.CompatView, {\n      style: hasData && containerStyle\n    }, containerLayout && hasData && Array.from(renderStack.entries(), ([reactKey, {\n      index\n    }]) => {\n      const item = data[index];\n      const trailingItem = ItemSeparatorComponent ? data[index + 1] : undefined;\n      return /*#__PURE__*/React.default.createElement(_ViewHolder.ViewHolder, {\n        key: reactKey,\n        index: index,\n        item: item,\n        trailingItem: trailingItem,\n        layout: {\n          ...getLayout(index)\n        },\n        refHolder: refHolder,\n        onSizeChanged: onSizeChanged,\n        target: \"Cell\",\n        renderItem: renderItem,\n        extraData: extraData,\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ItemSeparatorComponent,\n        horizontal: horizontal,\n        hidden: hideStickyHeaderRelatedCell && currentStickyIndex === index\n      });\n    }));\n  };\n});","lineCount":137,"map":[[12,2,15,0,"Object"],[12,8,15,0],[12,9,15,0,"defineProperty"],[12,23,15,0],[12,24,15,0,"exports"],[12,31,15,0],[13,4,15,0,"enumerable"],[13,14,15,0],[14,4,15,0,"get"],[14,7,15,0],[14,18,15,0,"get"],[14,19,15,0],[15,6,15,0],[15,13,15,0,"ViewHolderCollection"],[15,33,15,0],[16,4,15,0],[17,2,15,0],[18,2,6,0],[18,6,6,0,"_react"],[18,12,6,0],[18,15,6,0,"require"],[18,22,6,0],[18,23,6,0,"_dependencyMap"],[18,37,6,0],[19,2,6,0],[19,6,6,0,"React"],[19,11,6,0],[19,14,6,0,"_interopDefault"],[19,29,6,0],[19,30,6,0,"_react"],[19,36,6,0],[20,2,7,0],[20,6,7,0,"_ViewHolder"],[20,17,7,0],[20,20,7,0,"require"],[20,27,7,0],[20,28,7,0,"_dependencyMap"],[20,42,7,0],[21,2,8,0],[21,6,8,0,"_componentsCompatView"],[21,27,8,0],[21,30,8,0,"require"],[21,37,8,0],[21,38,8,0,"_dependencyMap"],[21,52,8,0],[22,2,9,0],[22,6,9,0,"_RecyclerViewContextProvider"],[22,34,9,0],[22,37,9,0,"require"],[22,44,9,0],[22,45,9,0,"_dependencyMap"],[22,59,9,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[29,2,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[33,0,14,0],[34,2,15,7],[34,8,15,13,"ViewHolderCollection"],[34,28,15,33],[34,31,15,37,"props"],[34,36,15,42],[34,40,15,47],[35,4,16,4],[35,10,16,10],[36,6,16,12,"data"],[36,10,16,16],[37,6,16,18,"renderStack"],[37,17,16,29],[38,6,16,31,"getLayout"],[38,15,16,40],[39,6,16,42,"refHolder"],[39,15,16,51],[40,6,16,53,"onSizeChanged"],[40,19,16,66],[41,6,16,68,"renderItem"],[41,16,16,78],[42,6,16,80,"extraData"],[42,15,16,89],[43,6,16,91,"viewHolderCollectionRef"],[43,29,16,114],[44,6,16,116,"getChildContainerLayout"],[44,29,16,139],[45,6,16,141,"onCommitLayoutEffect"],[45,26,16,161],[46,6,16,163,"CellRendererComponent"],[46,27,16,184],[47,6,16,186,"ItemSeparatorComponent"],[47,28,16,208],[48,6,16,210,"onCommitEffect"],[48,20,16,224],[49,6,16,226,"horizontal"],[49,16,16,236],[50,6,16,238,"getAdjustmentMargin"],[50,25,16,257],[51,6,16,259,"currentStickyIndex"],[51,24,16,277],[52,6,16,279,"hideStickyHeaderRelatedCell"],[53,4,16,308],[53,5,16,309],[53,8,16,312,"props"],[53,13,16,317],[54,4,17,4],[54,10,17,10],[54,11,17,11,"renderId"],[54,19,17,19],[54,21,17,21,"setRenderId"],[54,32,17,32],[54,33,17,33],[54,36,17,36,"React"],[54,41,17,41],[54,42,17,41,"default"],[54,49,17,41],[54,50,17,42,"useState"],[54,58,17,50],[54,59,17,51],[54,60,17,52],[54,61,17,53],[55,4,18,4],[55,10,18,10,"containerLayout"],[55,25,18,25],[55,28,18,28,"getChildContainerLayout"],[55,51,18,51],[55,52,18,52],[55,53,18,53],[56,4,19,4],[56,10,19,10,"fixedContainerSize"],[56,28,19,28],[56,31,19,31,"horizontal"],[56,41,19,41],[56,44,20,10,"containerLayout"],[56,59,20,25],[56,64,20,30],[56,68,20,34],[56,72,20,38,"containerLayout"],[56,87,20,53],[56,92,20,58],[56,97,20,63],[56,98,20,64],[56,101,20,67],[56,106,20,72],[56,107,20,73],[56,110,20,76,"containerLayout"],[56,125,20,91],[56,126,20,92,"height"],[56,132,20,98],[56,135,21,10,"containerLayout"],[56,150,21,25],[56,155,21,30],[56,159,21,34],[56,163,21,38,"containerLayout"],[56,178,21,53],[56,183,21,58],[56,188,21,63],[56,189,21,64],[56,192,21,67],[56,197,21,72],[56,198,21,73],[56,201,21,76,"containerLayout"],[56,216,21,91],[56,217,21,92,"width"],[56,222,21,97],[57,4,22,4],[57,10,22,10,"recyclerViewContext"],[57,29,22,29],[57,32,22,32],[57,36,22,32,"useRecyclerViewContext"],[57,64,22,54],[57,65,22,54,"useRecyclerViewContext"],[57,87,22,54],[57,89,22,55],[57,90,22,56],[58,4,23,4],[58,8,23,4,"useLayoutEffect"],[58,14,23,19],[58,15,23,19,"useLayoutEffect"],[58,30,23,19],[58,32,23,20],[58,38,23,26],[59,6,24,8],[59,10,24,12,"renderId"],[59,18,24,20],[59,21,24,23],[59,22,24,24],[59,24,24,26],[60,8,25,12],[61,8,26,12],[62,8,27,12],[63,8,28,12],[64,8,29,12,"recyclerViewContext"],[64,27,29,31],[64,32,29,36],[64,36,29,40],[64,40,29,44,"recyclerViewContext"],[64,59,29,63],[64,64,29,68],[64,69,29,73],[64,70,29,74],[64,73,29,77],[64,78,29,82],[64,79,29,83],[64,82,29,86,"recyclerViewContext"],[64,101,29,105],[64,102,29,106,"layout"],[64,108,29,112],[64,109,29,113],[64,110,29,114],[65,6,30,8],[66,6,31,8],[67,6,32,8],[68,4,33,4],[68,5,33,5],[68,7,33,7],[68,8,33,8,"fixedContainerSize"],[68,26,33,26],[68,27,33,27],[68,28,33,28],[69,4,34,4],[69,8,34,4,"useLayoutEffect"],[69,14,34,19],[69,15,34,19,"useLayoutEffect"],[69,30,34,19],[69,32,34,20],[69,38,34,26],[70,6,35,8],[70,10,35,12,"renderId"],[70,18,35,20],[70,21,35,23],[70,22,35,24],[70,24,35,26],[71,8,36,12,"onCommitLayoutEffect"],[71,28,36,32],[71,33,36,37],[71,37,36,41],[71,41,36,45,"onCommitLayoutEffect"],[71,61,36,65],[71,66,36,70],[71,71,36,75],[71,72,36,76],[71,75,36,79],[71,80,36,84],[71,81,36,85],[71,84,36,88,"onCommitLayoutEffect"],[71,104,36,108],[71,105,36,109],[71,106,36,110],[72,6,37,8],[73,6,38,8],[74,6,39,8],[75,4,40,4],[75,5,40,5],[75,7,40,7],[75,8,40,8,"renderId"],[75,16,40,16],[75,17,40,17],[75,18,40,18],[76,4,41,4],[76,8,41,4,"useEffect"],[76,14,41,13],[76,15,41,13,"useEffect"],[76,24,41,13],[76,26,41,14],[76,32,41,20],[77,6,42,8],[77,10,42,12,"renderId"],[77,18,42,20],[77,21,42,23],[77,22,42,24],[77,24,42,26],[78,8,43,12,"onCommitEffect"],[78,22,43,26],[78,27,43,31],[78,31,43,35],[78,35,43,39,"onCommitEffect"],[78,49,43,53],[78,54,43,58],[78,59,43,63],[78,60,43,64],[78,63,43,67],[78,68,43,72],[78,69,43,73],[78,72,43,76,"onCommitEffect"],[78,86,43,90],[78,87,43,91],[78,88,43,92],[79,6,44,8],[80,6,45,8],[81,6,46,8],[82,4,47,4],[82,5,47,5],[82,7,47,7],[82,8,47,8,"renderId"],[82,16,47,16],[82,17,47,17],[82,18,47,18],[83,4,48,4],[84,4,49,4],[84,8,49,4,"useImperativeHandle"],[84,14,49,23],[84,15,49,23,"useImperativeHandle"],[84,34,49,23],[84,36,49,24,"viewHolderCollectionRef"],[84,59,49,47],[84,61,49,49],[84,68,49,56],[85,6,50,8,"commitLayout"],[85,18,50,20],[85,20,50,22,"commitLayout"],[85,21,50,22],[85,26,50,28],[86,8,51,12],[87,8,52,12,"setRenderId"],[87,19,52,23],[87,20,52,25,"prev"],[87,24,52,29],[87,28,52,34,"prev"],[87,32,52,38],[87,35,52,41],[87,36,52,42],[87,37,52,43],[88,6,53,8],[89,4,54,4],[89,5,54,5],[89,6,54,6],[89,8,54,8],[89,9,54,9,"setRenderId"],[89,20,54,20],[89,21,54,21],[89,22,54,22],[90,4,55,4],[90,10,55,10,"hasData"],[90,17,55,17],[90,20,55,20,"data"],[90,24,55,24],[90,28,55,28,"data"],[90,32,55,32],[90,33,55,33,"length"],[90,39,55,39],[90,42,55,42],[90,43,55,43],[91,4,56,4],[91,10,56,10,"containerStyle"],[91,24,56,24],[91,27,56,27],[92,6,57,8,"width"],[92,11,57,13],[92,13,57,15,"horizontal"],[92,23,57,25],[92,26,57,28,"containerLayout"],[92,41,57,43],[92,46,57,48],[92,50,57,52],[92,54,57,56,"containerLayout"],[92,69,57,71],[92,74,57,76],[92,79,57,81],[92,80,57,82],[92,83,57,85],[92,88,57,90],[92,89,57,91],[92,92,57,94,"containerLayout"],[92,107,57,109],[92,108,57,110,"width"],[92,113,57,115],[92,116,57,118,"undefined"],[92,125,57,127],[93,6,58,8,"height"],[93,12,58,14],[93,14,58,16,"containerLayout"],[93,29,58,31],[93,34,58,36],[93,38,58,40],[93,42,58,44,"containerLayout"],[93,57,58,59],[93,62,58,64],[93,67,58,69],[93,68,58,70],[93,71,58,73],[93,76,58,78],[93,77,58,79],[93,80,58,82,"containerLayout"],[93,95,58,97],[93,96,58,98,"height"],[93,102,58,104],[94,6,59,8,"marginTop"],[94,15,59,17],[94,17,59,19,"horizontal"],[94,27,59,29],[94,30,59,32,"undefined"],[94,39,59,41],[94,42,59,44,"getAdjustmentMargin"],[94,61,59,63],[94,62,59,64],[94,63,59,65],[95,6,60,8,"marginLeft"],[95,16,60,18],[95,18,60,20,"horizontal"],[95,28,60,30],[95,31,60,33,"getAdjustmentMargin"],[95,50,60,52],[95,51,60,53],[95,52,60,54],[95,55,60,57,"undefined"],[95,64,60,66],[96,6,61,8],[97,6,62,8],[98,6,63,8,"opacity"],[98,13,63,15],[98,15,63,17,"renderId"],[98,23,63,25],[98,26,63,28],[98,27,63,29],[98,30,63,32],[98,31,63,33],[98,34,63,36],[99,4,64,4],[99,5,64,5],[100,4,65,4],[101,4,66,4],[102,4,67,4],[103,4,68,4],[104,4,69,4],[105,4,70,4],[106,4,71,4],[107,4,72,4],[108,4,73,4],[109,4,74,4],[110,4,75,4],[110,24,75,12,"React"],[110,29,75,17],[110,30,75,17,"default"],[110,37,75,17],[110,38,75,18,"createElement"],[110,51,75,31],[110,52,75,32,"CompatView"],[110,73,75,42],[110,74,75,42,"CompatView"],[110,84,75,42],[110,86,75,44],[111,6,75,46,"style"],[111,11,75,51],[111,13,75,53,"hasData"],[111,20,75,60],[111,24,75,64,"containerStyle"],[112,4,75,79],[112,5,75,80],[112,7,75,82,"containerLayout"],[112,22,75,97],[112,26,76,8,"hasData"],[112,33,76,15],[112,37,77,8,"Array"],[112,42,77,13],[112,43,77,14,"from"],[112,47,77,18],[112,48,77,19,"renderStack"],[112,59,77,30],[112,60,77,31,"entries"],[112,67,77,38],[112,68,77,39],[112,69,77,40],[112,71,77,42],[112,72,77,43],[112,73,77,44,"reactKey"],[112,81,77,52],[112,83,77,54],[113,6,77,56,"index"],[114,4,77,62],[114,5,77,63],[114,6,77,64],[114,11,77,69],[115,6,78,12],[115,12,78,18,"item"],[115,16,78,22],[115,19,78,25,"data"],[115,23,78,29],[115,24,78,30,"index"],[115,29,78,35],[115,30,78,36],[116,6,79,12],[116,12,79,18,"trailingItem"],[116,24,79,30],[116,27,79,33,"ItemSeparatorComponent"],[116,49,79,55],[116,52,80,18,"data"],[116,56,80,22],[116,57,80,23,"index"],[116,62,80,28],[116,65,80,31],[116,66,80,32],[116,67,80,33],[116,70,81,18,"undefined"],[116,79,81,27],[117,6,82,12],[117,26,82,20,"React"],[117,31,82,25],[117,32,82,25,"default"],[117,39,82,25],[117,40,82,26,"createElement"],[117,53,82,39],[117,54,82,40,"ViewHolder"],[117,65,82,50],[117,66,82,50,"ViewHolder"],[117,76,82,50],[117,78,82,52],[118,8,82,54,"key"],[118,11,82,57],[118,13,82,59,"reactKey"],[118,21,82,67],[119,8,82,69,"index"],[119,13,82,74],[119,15,82,76,"index"],[119,20,82,81],[120,8,82,83,"item"],[120,12,82,87],[120,14,82,89,"item"],[120,18,82,93],[121,8,82,95,"trailingItem"],[121,20,82,107],[121,22,82,109,"trailingItem"],[121,34,82,121],[122,8,82,123,"layout"],[122,14,82,129],[122,16,82,131],[123,10,83,20],[123,13,83,23,"getLayout"],[123,22,83,32],[123,23,83,33,"index"],[123,28,83,38],[124,8,84,16],[124,9,84,17],[125,8,84,19,"refHolder"],[125,17,84,28],[125,19,84,30,"refHolder"],[125,28,84,39],[126,8,84,41,"onSizeChanged"],[126,21,84,54],[126,23,84,56,"onSizeChanged"],[126,36,84,69],[127,8,84,71,"target"],[127,14,84,77],[127,16,84,79],[127,22,84,85],[128,8,84,87,"renderItem"],[128,18,84,97],[128,20,84,99,"renderItem"],[128,30,84,109],[129,8,84,111,"extraData"],[129,17,84,120],[129,19,84,122,"extraData"],[129,28,84,131],[130,8,84,133,"CellRendererComponent"],[130,29,84,154],[130,31,84,156,"CellRendererComponent"],[130,52,84,177],[131,8,84,179,"ItemSeparatorComponent"],[131,30,84,201],[131,32,84,203,"ItemSeparatorComponent"],[131,54,84,225],[132,8,84,227,"horizontal"],[132,18,84,237],[132,20,84,239,"horizontal"],[132,30,84,249],[133,8,84,251,"hidden"],[133,14,84,257],[133,16,84,259,"hideStickyHeaderRelatedCell"],[133,43,84,286],[133,47,84,290,"currentStickyIndex"],[133,65,84,308],[133,70,84,313,"index"],[134,6,84,319],[134,7,84,320],[134,8,84,321],[135,4,85,8],[135,5,85,9],[135,6,85,10],[135,7,85,11],[136,2,86,0],[136,3,86,1],[137,0,86,2],[137,3]],"functionMap":{"names":["<global>","ViewHolderCollection","useLayoutEffect$argument_0","useEffect$argument_0","useImperativeHandle$argument_1","commitLayout","setRenderId$argument_0","Array.from$argument_1"],"mappings":"AAA;oCCc;oBCQ;KDU;oBCC;KDM;cEC;KFM;iDGE;sBCC;wBCE,kBD;SDC;MHC;0CMuB;SNQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}
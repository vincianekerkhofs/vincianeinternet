{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"usePlaybackEngine\", {\n    enumerable: true,\n    get: function () {\n      return usePlaybackEngine;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Unified playback engine with REAL-TIME BPM changes\n   */\n  const usePlaybackEngine = options => {\n    _s();\n    const {\n      bpm,\n      totalBeats,\n      loop,\n      soundEnabled,\n      volume = 0.5,\n      onBeatChange,\n      onLoopComplete\n    } = options;\n    const [isPlaying, setIsPlaying] = (0, _react.useState)(false);\n    const [currentBeat, setCurrentBeat] = (0, _react.useState)(1);\n    const [audioReady, setAudioReady] = (0, _react.useState)(false);\n    const [needsUserInteraction, setNeedsUserInteraction] = (0, _react.useState)(false);\n    const audioContextRef = (0, _react.useRef)(null);\n    const schedulerIdRef = (0, _react.useRef)(null);\n    const isPlayingRef = (0, _react.useRef)(false);\n    const soundEnabledRef = (0, _react.useRef)(soundEnabled);\n    const bpmRef = (0, _react.useRef)(bpm);\n\n    // Beat tracking - use beat index and calculate time dynamically\n    const currentBeatIndexRef = (0, _react.useRef)(0);\n    const lastBeatTimeRef = (0, _react.useRef)(0);\n    const lastScheduledBeatRef = (0, _react.useRef)(-1);\n\n    // Keep refs in sync with props\n    (0, _react.useEffect)(() => {\n      soundEnabledRef.current = soundEnabled;\n    }, [soundEnabled]);\n\n    // REAL-TIME BPM UPDATE - recalculate timing immediately\n    (0, _react.useEffect)(() => {\n      bpmRef.current = bpm;\n      // When BPM changes during playback, adjust lastBeatTime to maintain position\n      if (isPlayingRef.current && audioContextRef.current) {\n        const now = audioContextRef.current.currentTime;\n        lastBeatTimeRef.current = now;\n        // Keep the current beat index, just update when next beat should happen\n      }\n    }, [bpm]);\n    const initAudio = (0, _react.useCallback)(async () => {\n      if (Platform.default.OS !== 'web') {\n        setAudioReady(true);\n        return true;\n      }\n      try {\n        if (!audioContextRef.current) {\n          const AudioContextClass = window.AudioContext || window.webkitAudioContext;\n          if (AudioContextClass) {\n            audioContextRef.current = new AudioContextClass();\n          }\n        }\n        if (audioContextRef.current) {\n          if (audioContextRef.current.state === 'suspended') {\n            await audioContextRef.current.resume();\n          }\n          setAudioReady(true);\n          setNeedsUserInteraction(false);\n          return true;\n        }\n      } catch (error) {\n        console.error('Failed to initialize audio:', error);\n        setNeedsUserInteraction(true);\n      }\n      return false;\n    }, []);\n    const playClick = (0, _react.useCallback)((time, isAccent = false) => {\n      if (!audioContextRef.current || !soundEnabledRef.current) return;\n      const ctx = audioContextRef.current;\n      try {\n        const osc = ctx.createOscillator();\n        const gainNode = ctx.createGain();\n        osc.connect(gainNode);\n        gainNode.connect(ctx.destination);\n        osc.frequency.value = isAccent ? 1000 : 800;\n        osc.type = 'sine';\n        const attackTime = 0.001;\n        const decayTime = 0.05;\n        const clickVolume = volume * (isAccent ? 1 : 0.7);\n        gainNode.gain.setValueAtTime(0, time);\n        gainNode.gain.linearRampToValueAtTime(clickVolume, time + attackTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.001, time + attackTime + decayTime);\n        osc.start(time);\n        osc.stop(time + attackTime + decayTime + 0.01);\n      } catch (e) {\n        // Ignore audio errors\n      }\n    }, [volume]);\n    const runScheduler = (0, _react.useCallback)(() => {\n      if (!isPlayingRef.current) return;\n      const ctx = audioContextRef.current;\n      const now = ctx ? ctx.currentTime : Date.now() / 1000;\n\n      // Use CURRENT bpm from ref for real-time updates\n      const currentBpm = bpmRef.current;\n      const secondsPerBeat = 60.0 / currentBpm;\n      const scheduleAheadTime = 0.15;\n      const lookaheadMs = 25;\n\n      // Calculate time since last beat\n      const timeSinceLastBeat = now - lastBeatTimeRef.current;\n\n      // Check if it's time for next beat\n      if (timeSinceLastBeat >= secondsPerBeat) {\n        currentBeatIndexRef.current++;\n        lastBeatTimeRef.current = now;\n\n        // Handle loop\n        if (currentBeatIndexRef.current > totalBeats) {\n          if (loop) {\n            currentBeatIndexRef.current = 1;\n            lastScheduledBeatRef.current = 0;\n            onLoopComplete?.();\n          } else {\n            stop();\n            return;\n          }\n        }\n\n        // Update UI\n        const displayBeat = currentBeatIndexRef.current;\n        setCurrentBeat(displayBeat);\n        onBeatChange?.(displayBeat);\n      }\n\n      // Schedule upcoming metronome clicks\n      if (ctx) {\n        const nextBeatTime = lastBeatTimeRef.current + secondsPerBeat;\n        if (nextBeatTime < now + scheduleAheadTime && currentBeatIndexRef.current !== lastScheduledBeatRef.current) {\n          const beatToSchedule = currentBeatIndexRef.current;\n          const isAccent = (beatToSchedule - 1) % 4 === 0;\n          playClick(nextBeatTime, isAccent);\n          lastScheduledBeatRef.current = beatToSchedule;\n        }\n      }\n      schedulerIdRef.current = window.setTimeout(runScheduler, lookaheadMs);\n    }, [totalBeats, loop, playClick, onBeatChange, onLoopComplete]);\n    const start = (0, _react.useCallback)(async () => {\n      await initAudio();\n      const ctx = audioContextRef.current;\n      const now = ctx ? ctx.currentTime : Date.now() / 1000;\n      currentBeatIndexRef.current = 1;\n      lastBeatTimeRef.current = now;\n      lastScheduledBeatRef.current = 0;\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n      setCurrentBeat(1);\n      onBeatChange?.(1);\n\n      // Play first click immediately\n      if (ctx && soundEnabledRef.current) {\n        playClick(now + 0.05, true);\n        lastScheduledBeatRef.current = 1;\n      }\n      runScheduler();\n    }, [initAudio, runScheduler, playClick, onBeatChange]);\n    const stop = (0, _react.useCallback)(() => {\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (schedulerIdRef.current !== null) {\n        clearTimeout(schedulerIdRef.current);\n        schedulerIdRef.current = null;\n      }\n      currentBeatIndexRef.current = 0;\n      setCurrentBeat(1);\n    }, []);\n    const toggle = (0, _react.useCallback)(() => {\n      if (isPlayingRef.current) {\n        stop();\n      } else {\n        start();\n      }\n    }, [start, stop]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        isPlayingRef.current = false;\n        if (schedulerIdRef.current !== null) {\n          clearTimeout(schedulerIdRef.current);\n        }\n        if (audioContextRef.current) {\n          audioContextRef.current.close();\n          audioContextRef.current = null;\n        }\n      };\n    }, []);\n    return {\n      isPlaying,\n      currentBeat,\n      audioReady,\n      needsUserInteraction,\n      start,\n      stop,\n      toggle,\n      initAudio\n    };\n  };\n  _s(usePlaybackEngine, \"lJQ3TK0yJu9WhviVPPOeAv3k9xc=\");\n});","lineCount":223,"map":[[13,2,17,0,"Object"],[13,8,17,0],[13,9,17,0,"defineProperty"],[13,23,17,0],[13,24,17,0,"exports"],[13,31,17,0],[14,4,17,0,"enumerable"],[14,14,17,0],[15,4,17,0,"get"],[15,7,17,0],[15,18,17,0,"get"],[15,19,17,0],[16,6,17,0],[16,13,17,0,"usePlaybackEngine"],[16,30,17,0],[17,4,17,0],[18,2,17,0],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,65],[20,6,1,65,"_reactNativeWebDistExportsPlatform"],[20,40,1,65],[20,43,1,65,"require"],[20,50,1,65],[20,51,1,65,"_dependencyMap"],[20,65,1,65],[21,2,1,65],[21,6,1,65,"Platform"],[21,14,1,65],[21,17,1,65,"_interopDefault"],[21,32,1,65],[21,33,1,65,"_reactNativeWebDistExportsPlatform"],[21,67,1,65],[22,2,14,0],[23,0,15,0],[24,0,16,0],[25,2,17,7],[25,8,17,13,"usePlaybackEngine"],[25,25,17,30],[25,28,17,34,"options"],[25,35,17,64],[25,39,17,69],[26,4,17,69,"_s"],[26,6,17,69],[27,4,18,2],[27,10,18,8],[28,6,19,4,"bpm"],[28,9,19,7],[29,6,20,4,"totalBeats"],[29,16,20,14],[30,6,21,4,"loop"],[30,10,21,8],[31,6,22,4,"soundEnabled"],[31,18,22,16],[32,6,23,4,"volume"],[32,12,23,10],[32,15,23,13],[32,18,23,16],[33,6,24,4,"onBeatChange"],[33,18,24,16],[34,6,25,4,"onLoopComplete"],[35,4,26,2],[35,5,26,3],[35,8,26,6,"options"],[35,15,26,13],[36,4,28,2],[36,10,28,8],[36,11,28,9,"isPlaying"],[36,20,28,18],[36,22,28,20,"setIsPlaying"],[36,34,28,32],[36,35,28,33],[36,38,28,36],[36,42,28,36,"useState"],[36,48,28,44],[36,49,28,44,"useState"],[36,57,28,44],[36,59,28,45],[36,64,28,50],[36,65,28,51],[37,4,29,2],[37,10,29,8],[37,11,29,9,"currentBeat"],[37,22,29,20],[37,24,29,22,"setCurrentBeat"],[37,38,29,36],[37,39,29,37],[37,42,29,40],[37,46,29,40,"useState"],[37,52,29,48],[37,53,29,48,"useState"],[37,61,29,48],[37,63,29,49],[37,64,29,50],[37,65,29,51],[38,4,30,2],[38,10,30,8],[38,11,30,9,"audioReady"],[38,21,30,19],[38,23,30,21,"setAudioReady"],[38,36,30,34],[38,37,30,35],[38,40,30,38],[38,44,30,38,"useState"],[38,50,30,46],[38,51,30,46,"useState"],[38,59,30,46],[38,61,30,47],[38,66,30,52],[38,67,30,53],[39,4,31,2],[39,10,31,8],[39,11,31,9,"needsUserInteraction"],[39,31,31,29],[39,33,31,31,"setNeedsUserInteraction"],[39,56,31,54],[39,57,31,55],[39,60,31,58],[39,64,31,58,"useState"],[39,70,31,66],[39,71,31,66,"useState"],[39,79,31,66],[39,81,31,67],[39,86,31,72],[39,87,31,73],[40,4,33,2],[40,10,33,8,"audioContextRef"],[40,25,33,23],[40,28,33,26],[40,32,33,26,"useRef"],[40,38,33,32],[40,39,33,32,"useRef"],[40,45,33,32],[40,47,33,54],[40,51,33,58],[40,52,33,59],[41,4,34,2],[41,10,34,8,"schedulerIdRef"],[41,24,34,22],[41,27,34,25],[41,31,34,25,"useRef"],[41,37,34,31],[41,38,34,31,"useRef"],[41,44,34,31],[41,46,34,47],[41,50,34,51],[41,51,34,52],[42,4,35,2],[42,10,35,8,"isPlayingRef"],[42,22,35,20],[42,25,35,23],[42,29,35,23,"useRef"],[42,35,35,29],[42,36,35,29,"useRef"],[42,42,35,29],[42,44,35,39],[42,49,35,44],[42,50,35,45],[43,4,36,2],[43,10,36,8,"soundEnabledRef"],[43,25,36,23],[43,28,36,26],[43,32,36,26,"useRef"],[43,38,36,32],[43,39,36,32,"useRef"],[43,45,36,32],[43,47,36,42,"soundEnabled"],[43,59,36,54],[43,60,36,55],[44,4,37,2],[44,10,37,8,"bpmRef"],[44,16,37,14],[44,19,37,17],[44,23,37,17,"useRef"],[44,29,37,23],[44,30,37,23,"useRef"],[44,36,37,23],[44,38,37,32,"bpm"],[44,41,37,35],[44,42,37,36],[46,4,39,2],[47,4,40,2],[47,10,40,8,"currentBeatIndexRef"],[47,29,40,27],[47,32,40,30],[47,36,40,30,"useRef"],[47,42,40,36],[47,43,40,36,"useRef"],[47,49,40,36],[47,51,40,45],[47,52,40,46],[47,53,40,47],[48,4,41,2],[48,10,41,8,"lastBeatTimeRef"],[48,25,41,23],[48,28,41,26],[48,32,41,26,"useRef"],[48,38,41,32],[48,39,41,32,"useRef"],[48,45,41,32],[48,47,41,41],[48,48,41,42],[48,49,41,43],[49,4,42,2],[49,10,42,8,"lastScheduledBeatRef"],[49,30,42,28],[49,33,42,31],[49,37,42,31,"useRef"],[49,43,42,37],[49,44,42,37,"useRef"],[49,50,42,37],[49,52,42,46],[49,53,42,47],[49,54,42,48],[49,55,42,49],[51,4,44,2],[52,4,45,2],[52,8,45,2,"useEffect"],[52,14,45,11],[52,15,45,11,"useEffect"],[52,24,45,11],[52,26,45,12],[52,32,45,18],[53,6,46,4,"soundEnabledRef"],[53,21,46,19],[53,22,46,20,"current"],[53,29,46,27],[53,32,46,30,"soundEnabled"],[53,44,46,42],[54,4,47,2],[54,5,47,3],[54,7,47,5],[54,8,47,6,"soundEnabled"],[54,20,47,18],[54,21,47,19],[54,22,47,20],[56,4,49,2],[57,4,50,2],[57,8,50,2,"useEffect"],[57,14,50,11],[57,15,50,11,"useEffect"],[57,24,50,11],[57,26,50,12],[57,32,50,18],[58,6,51,4,"bpmRef"],[58,12,51,10],[58,13,51,11,"current"],[58,20,51,18],[58,23,51,21,"bpm"],[58,26,51,24],[59,6,52,4],[60,6,53,4],[60,10,53,8,"isPlayingRef"],[60,22,53,20],[60,23,53,21,"current"],[60,30,53,28],[60,34,53,32,"audioContextRef"],[60,49,53,47],[60,50,53,48,"current"],[60,57,53,55],[60,59,53,57],[61,8,54,6],[61,14,54,12,"now"],[61,17,54,15],[61,20,54,18,"audioContextRef"],[61,35,54,33],[61,36,54,34,"current"],[61,43,54,41],[61,44,54,42,"currentTime"],[61,55,54,53],[62,8,55,6,"lastBeatTimeRef"],[62,23,55,21],[62,24,55,22,"current"],[62,31,55,29],[62,34,55,32,"now"],[62,37,55,35],[63,8,56,6],[64,6,57,4],[65,4,58,2],[65,5,58,3],[65,7,58,5],[65,8,58,6,"bpm"],[65,11,58,9],[65,12,58,10],[65,13,58,11],[66,4,60,2],[66,10,60,8,"initAudio"],[66,19,60,17],[66,22,60,20],[66,26,60,20,"useCallback"],[66,32,60,31],[66,33,60,31,"useCallback"],[66,44,60,31],[66,46,60,32],[66,58,60,44],[67,6,61,4],[67,10,61,8,"Platform"],[67,18,61,16],[67,19,61,16,"default"],[67,26,61,16],[67,27,61,17,"OS"],[67,29,61,19],[67,34,61,24],[67,39,61,29],[67,41,61,31],[68,8,62,6,"setAudioReady"],[68,21,62,19],[68,22,62,20],[68,26,62,24],[68,27,62,25],[69,8,63,6],[69,15,63,13],[69,19,63,17],[70,6,64,4],[71,6,66,4],[71,10,66,8],[72,8,67,6],[72,12,67,10],[72,13,67,11,"audioContextRef"],[72,28,67,26],[72,29,67,27,"current"],[72,36,67,34],[72,38,67,36],[73,10,68,8],[73,16,68,14,"AudioContextClass"],[73,33,68,31],[73,36,68,34,"window"],[73,42,68,40],[73,43,68,41,"AudioContext"],[73,55,68,53],[73,59,68,58,"window"],[73,65,68,64],[73,66,68,73,"webkitAudioContext"],[73,84,68,91],[74,10,69,8],[74,14,69,12,"AudioContextClass"],[74,31,69,29],[74,33,69,31],[75,12,70,10,"audioContextRef"],[75,27,70,25],[75,28,70,26,"current"],[75,35,70,33],[75,38,70,36],[75,42,70,40,"AudioContextClass"],[75,59,70,57],[75,60,70,58],[75,61,70,59],[76,10,71,8],[77,8,72,6],[78,8,74,6],[78,12,74,10,"audioContextRef"],[78,27,74,25],[78,28,74,26,"current"],[78,35,74,33],[78,37,74,35],[79,10,75,8],[79,14,75,12,"audioContextRef"],[79,29,75,27],[79,30,75,28,"current"],[79,37,75,35],[79,38,75,36,"state"],[79,43,75,41],[79,48,75,46],[79,59,75,57],[79,61,75,59],[80,12,76,10],[80,18,76,16,"audioContextRef"],[80,33,76,31],[80,34,76,32,"current"],[80,41,76,39],[80,42,76,40,"resume"],[80,48,76,46],[80,49,76,47],[80,50,76,48],[81,10,77,8],[82,10,78,8,"setAudioReady"],[82,23,78,21],[82,24,78,22],[82,28,78,26],[82,29,78,27],[83,10,79,8,"setNeedsUserInteraction"],[83,33,79,31],[83,34,79,32],[83,39,79,37],[83,40,79,38],[84,10,80,8],[84,17,80,15],[84,21,80,19],[85,8,81,6],[86,6,82,4],[86,7,82,5],[86,8,82,6],[86,15,82,13,"error"],[86,20,82,18],[86,22,82,20],[87,8,83,6,"console"],[87,15,83,13],[87,16,83,14,"error"],[87,21,83,19],[87,22,83,20],[87,51,83,49],[87,53,83,51,"error"],[87,58,83,56],[87,59,83,57],[88,8,84,6,"setNeedsUserInteraction"],[88,31,84,29],[88,32,84,30],[88,36,84,34],[88,37,84,35],[89,6,85,4],[90,6,86,4],[90,13,86,11],[90,18,86,16],[91,4,87,2],[91,5,87,3],[91,7,87,5],[91,9,87,7],[91,10,87,8],[92,4,89,2],[92,10,89,8,"playClick"],[92,19,89,17],[92,22,89,20],[92,26,89,20,"useCallback"],[92,32,89,31],[92,33,89,31,"useCallback"],[92,44,89,31],[92,46,89,32],[92,47,89,33,"time"],[92,51,89,45],[92,53,89,47,"isAccent"],[92,61,89,64],[92,64,89,67],[92,69,89,72],[92,74,89,77],[93,6,90,4],[93,10,90,8],[93,11,90,9,"audioContextRef"],[93,26,90,24],[93,27,90,25,"current"],[93,34,90,32],[93,38,90,36],[93,39,90,37,"soundEnabledRef"],[93,54,90,52],[93,55,90,53,"current"],[93,62,90,60],[93,64,90,62],[94,6,92,4],[94,12,92,10,"ctx"],[94,15,92,13],[94,18,92,16,"audioContextRef"],[94,33,92,31],[94,34,92,32,"current"],[94,41,92,39],[95,6,94,4],[95,10,94,8],[96,8,95,6],[96,14,95,12,"osc"],[96,17,95,15],[96,20,95,18,"ctx"],[96,23,95,21],[96,24,95,22,"createOscillator"],[96,40,95,38],[96,41,95,39],[96,42,95,40],[97,8,96,6],[97,14,96,12,"gainNode"],[97,22,96,20],[97,25,96,23,"ctx"],[97,28,96,26],[97,29,96,27,"createGain"],[97,39,96,37],[97,40,96,38],[97,41,96,39],[98,8,98,6,"osc"],[98,11,98,9],[98,12,98,10,"connect"],[98,19,98,17],[98,20,98,18,"gainNode"],[98,28,98,26],[98,29,98,27],[99,8,99,6,"gainNode"],[99,16,99,14],[99,17,99,15,"connect"],[99,24,99,22],[99,25,99,23,"ctx"],[99,28,99,26],[99,29,99,27,"destination"],[99,40,99,38],[99,41,99,39],[100,8,101,6,"osc"],[100,11,101,9],[100,12,101,10,"frequency"],[100,21,101,19],[100,22,101,20,"value"],[100,27,101,25],[100,30,101,28,"isAccent"],[100,38,101,36],[100,41,101,39],[100,45,101,43],[100,48,101,46],[100,51,101,49],[101,8,102,6,"osc"],[101,11,102,9],[101,12,102,10,"type"],[101,16,102,14],[101,19,102,17],[101,25,102,23],[102,8,104,6],[102,14,104,12,"attackTime"],[102,24,104,22],[102,27,104,25],[102,32,104,30],[103,8,105,6],[103,14,105,12,"decayTime"],[103,23,105,21],[103,26,105,24],[103,30,105,28],[104,8,106,6],[104,14,106,12,"clickVolume"],[104,25,106,23],[104,28,106,26,"volume"],[104,34,106,32],[104,38,106,36,"isAccent"],[104,46,106,44],[104,49,106,47],[104,50,106,48],[104,53,106,51],[104,56,106,54],[104,57,106,55],[105,8,108,6,"gainNode"],[105,16,108,14],[105,17,108,15,"gain"],[105,21,108,19],[105,22,108,20,"setValueAtTime"],[105,36,108,34],[105,37,108,35],[105,38,108,36],[105,40,108,38,"time"],[105,44,108,42],[105,45,108,43],[106,8,109,6,"gainNode"],[106,16,109,14],[106,17,109,15,"gain"],[106,21,109,19],[106,22,109,20,"linearRampToValueAtTime"],[106,45,109,43],[106,46,109,44,"clickVolume"],[106,57,109,55],[106,59,109,57,"time"],[106,63,109,61],[106,66,109,64,"attackTime"],[106,76,109,74],[106,77,109,75],[107,8,110,6,"gainNode"],[107,16,110,14],[107,17,110,15,"gain"],[107,21,110,19],[107,22,110,20,"exponentialRampToValueAtTime"],[107,50,110,48],[107,51,110,49],[107,56,110,54],[107,58,110,56,"time"],[107,62,110,60],[107,65,110,63,"attackTime"],[107,75,110,73],[107,78,110,76,"decayTime"],[107,87,110,85],[107,88,110,86],[108,8,112,6,"osc"],[108,11,112,9],[108,12,112,10,"start"],[108,17,112,15],[108,18,112,16,"time"],[108,22,112,20],[108,23,112,21],[109,8,113,6,"osc"],[109,11,113,9],[109,12,113,10,"stop"],[109,16,113,14],[109,17,113,15,"time"],[109,21,113,19],[109,24,113,22,"attackTime"],[109,34,113,32],[109,37,113,35,"decayTime"],[109,46,113,44],[109,49,113,47],[109,53,113,51],[109,54,113,52],[110,6,114,4],[110,7,114,5],[110,8,114,6],[110,15,114,13,"e"],[110,16,114,14],[110,18,114,16],[111,8,115,6],[112,6,115,6],[113,4,117,2],[113,5,117,3],[113,7,117,5],[113,8,117,6,"volume"],[113,14,117,12],[113,15,117,13],[113,16,117,14],[114,4,119,2],[114,10,119,8,"runScheduler"],[114,22,119,20],[114,25,119,23],[114,29,119,23,"useCallback"],[114,35,119,34],[114,36,119,34,"useCallback"],[114,47,119,34],[114,49,119,35],[114,55,119,41],[115,6,120,4],[115,10,120,8],[115,11,120,9,"isPlayingRef"],[115,23,120,21],[115,24,120,22,"current"],[115,31,120,29],[115,33,120,31],[116,6,122,4],[116,12,122,10,"ctx"],[116,15,122,13],[116,18,122,16,"audioContextRef"],[116,33,122,31],[116,34,122,32,"current"],[116,41,122,39],[117,6,123,4],[117,12,123,10,"now"],[117,15,123,13],[117,18,123,16,"ctx"],[117,21,123,19],[117,24,123,22,"ctx"],[117,27,123,25],[117,28,123,26,"currentTime"],[117,39,123,37],[117,42,123,41,"Date"],[117,46,123,45],[117,47,123,46,"now"],[117,50,123,49],[117,51,123,50],[117,52,123,51],[117,55,123,54],[117,59,123,59],[119,6,125,4],[120,6,126,4],[120,12,126,10,"currentBpm"],[120,22,126,20],[120,25,126,23,"bpmRef"],[120,31,126,29],[120,32,126,30,"current"],[120,39,126,37],[121,6,127,4],[121,12,127,10,"secondsPerBeat"],[121,26,127,24],[121,29,127,27],[121,33,127,31],[121,36,127,34,"currentBpm"],[121,46,127,44],[122,6,128,4],[122,12,128,10,"scheduleAheadTime"],[122,29,128,27],[122,32,128,30],[122,36,128,34],[123,6,129,4],[123,12,129,10,"lookaheadMs"],[123,23,129,21],[123,26,129,24],[123,28,129,26],[125,6,131,4],[126,6,132,4],[126,12,132,10,"timeSinceLastBeat"],[126,29,132,27],[126,32,132,30,"now"],[126,35,132,33],[126,38,132,36,"lastBeatTimeRef"],[126,53,132,51],[126,54,132,52,"current"],[126,61,132,59],[128,6,134,4],[129,6,135,4],[129,10,135,8,"timeSinceLastBeat"],[129,27,135,25],[129,31,135,29,"secondsPerBeat"],[129,45,135,43],[129,47,135,45],[130,8,136,6,"currentBeatIndexRef"],[130,27,136,25],[130,28,136,26,"current"],[130,35,136,33],[130,37,136,35],[131,8,137,6,"lastBeatTimeRef"],[131,23,137,21],[131,24,137,22,"current"],[131,31,137,29],[131,34,137,32,"now"],[131,37,137,35],[133,8,139,6],[134,8,140,6],[134,12,140,10,"currentBeatIndexRef"],[134,31,140,29],[134,32,140,30,"current"],[134,39,140,37],[134,42,140,40,"totalBeats"],[134,52,140,50],[134,54,140,52],[135,10,141,8],[135,14,141,12,"loop"],[135,18,141,16],[135,20,141,18],[136,12,142,10,"currentBeatIndexRef"],[136,31,142,29],[136,32,142,30,"current"],[136,39,142,37],[136,42,142,40],[136,43,142,41],[137,12,143,10,"lastScheduledBeatRef"],[137,32,143,30],[137,33,143,31,"current"],[137,40,143,38],[137,43,143,41],[137,44,143,42],[138,12,144,10,"onLoopComplete"],[138,26,144,24],[138,29,144,27],[138,30,144,28],[139,10,145,8],[139,11,145,9],[139,17,145,15],[140,12,146,10,"stop"],[140,16,146,14],[140,17,146,15],[140,18,146,16],[141,12,147,10],[142,10,148,8],[143,8,149,6],[145,8,151,6],[146,8,152,6],[146,14,152,12,"displayBeat"],[146,25,152,23],[146,28,152,26,"currentBeatIndexRef"],[146,47,152,45],[146,48,152,46,"current"],[146,55,152,53],[147,8,153,6,"setCurrentBeat"],[147,22,153,20],[147,23,153,21,"displayBeat"],[147,34,153,32],[147,35,153,33],[148,8,154,6,"onBeatChange"],[148,20,154,18],[148,23,154,21,"displayBeat"],[148,34,154,32],[148,35,154,33],[149,6,155,4],[151,6,157,4],[152,6,158,4],[152,10,158,8,"ctx"],[152,13,158,11],[152,15,158,13],[153,8,159,6],[153,14,159,12,"nextBeatTime"],[153,26,159,24],[153,29,159,27,"lastBeatTimeRef"],[153,44,159,42],[153,45,159,43,"current"],[153,52,159,50],[153,55,159,53,"secondsPerBeat"],[153,69,159,67],[154,8,161,6],[154,12,161,10,"nextBeatTime"],[154,24,161,22],[154,27,161,25,"now"],[154,30,161,28],[154,33,161,31,"scheduleAheadTime"],[154,50,161,48],[154,54,162,10,"currentBeatIndexRef"],[154,73,162,29],[154,74,162,30,"current"],[154,81,162,37],[154,86,162,42,"lastScheduledBeatRef"],[154,106,162,62],[154,107,162,63,"current"],[154,114,162,70],[154,116,162,72],[155,10,163,8],[155,16,163,14,"beatToSchedule"],[155,30,163,28],[155,33,163,31,"currentBeatIndexRef"],[155,52,163,50],[155,53,163,51,"current"],[155,60,163,58],[156,10,164,8],[156,16,164,14,"isAccent"],[156,24,164,22],[156,27,164,25],[156,28,164,26,"beatToSchedule"],[156,42,164,40],[156,45,164,43],[156,46,164,44],[156,50,164,48],[156,51,164,49],[156,56,164,54],[156,57,164,55],[157,10,165,8,"playClick"],[157,19,165,17],[157,20,165,18,"nextBeatTime"],[157,32,165,30],[157,34,165,32,"isAccent"],[157,42,165,40],[157,43,165,41],[158,10,166,8,"lastScheduledBeatRef"],[158,30,166,28],[158,31,166,29,"current"],[158,38,166,36],[158,41,166,39,"beatToSchedule"],[158,55,166,53],[159,8,167,6],[160,6,168,4],[161,6,170,4,"schedulerIdRef"],[161,20,170,18],[161,21,170,19,"current"],[161,28,170,26],[161,31,170,29,"window"],[161,37,170,35],[161,38,170,36,"setTimeout"],[161,48,170,46],[161,49,170,47,"runScheduler"],[161,61,170,59],[161,63,170,61,"lookaheadMs"],[161,74,170,72],[161,75,170,73],[162,4,171,2],[162,5,171,3],[162,7,171,5],[162,8,171,6,"totalBeats"],[162,18,171,16],[162,20,171,18,"loop"],[162,24,171,22],[162,26,171,24,"playClick"],[162,35,171,33],[162,37,171,35,"onBeatChange"],[162,49,171,47],[162,51,171,49,"onLoopComplete"],[162,65,171,63],[162,66,171,64],[162,67,171,65],[163,4,173,2],[163,10,173,8,"start"],[163,15,173,13],[163,18,173,16],[163,22,173,16,"useCallback"],[163,28,173,27],[163,29,173,27,"useCallback"],[163,40,173,27],[163,42,173,28],[163,54,173,40],[164,6,174,4],[164,12,174,10,"initAudio"],[164,21,174,19],[164,22,174,20],[164,23,174,21],[165,6,176,4],[165,12,176,10,"ctx"],[165,15,176,13],[165,18,176,16,"audioContextRef"],[165,33,176,31],[165,34,176,32,"current"],[165,41,176,39],[166,6,177,4],[166,12,177,10,"now"],[166,15,177,13],[166,18,177,16,"ctx"],[166,21,177,19],[166,24,177,22,"ctx"],[166,27,177,25],[166,28,177,26,"currentTime"],[166,39,177,37],[166,42,177,41,"Date"],[166,46,177,45],[166,47,177,46,"now"],[166,50,177,49],[166,51,177,50],[166,52,177,51],[166,55,177,54],[166,59,177,59],[167,6,179,4,"currentBeatIndexRef"],[167,25,179,23],[167,26,179,24,"current"],[167,33,179,31],[167,36,179,34],[167,37,179,35],[168,6,180,4,"lastBeatTimeRef"],[168,21,180,19],[168,22,180,20,"current"],[168,29,180,27],[168,32,180,30,"now"],[168,35,180,33],[169,6,181,4,"lastScheduledBeatRef"],[169,26,181,24],[169,27,181,25,"current"],[169,34,181,32],[169,37,181,35],[169,38,181,36],[170,6,182,4,"isPlayingRef"],[170,18,182,16],[170,19,182,17,"current"],[170,26,182,24],[170,29,182,27],[170,33,182,31],[171,6,184,4,"setIsPlaying"],[171,18,184,16],[171,19,184,17],[171,23,184,21],[171,24,184,22],[172,6,185,4,"setCurrentBeat"],[172,20,185,18],[172,21,185,19],[172,22,185,20],[172,23,185,21],[173,6,186,4,"onBeatChange"],[173,18,186,16],[173,21,186,19],[173,22,186,20],[173,23,186,21],[175,6,188,4],[176,6,189,4],[176,10,189,8,"ctx"],[176,13,189,11],[176,17,189,15,"soundEnabledRef"],[176,32,189,30],[176,33,189,31,"current"],[176,40,189,38],[176,42,189,40],[177,8,190,6,"playClick"],[177,17,190,15],[177,18,190,16,"now"],[177,21,190,19],[177,24,190,22],[177,28,190,26],[177,30,190,28],[177,34,190,32],[177,35,190,33],[178,8,191,6,"lastScheduledBeatRef"],[178,28,191,26],[178,29,191,27,"current"],[178,36,191,34],[178,39,191,37],[178,40,191,38],[179,6,192,4],[180,6,194,4,"runScheduler"],[180,18,194,16],[180,19,194,17],[180,20,194,18],[181,4,195,2],[181,5,195,3],[181,7,195,5],[181,8,195,6,"initAudio"],[181,17,195,15],[181,19,195,17,"runScheduler"],[181,31,195,29],[181,33,195,31,"playClick"],[181,42,195,40],[181,44,195,42,"onBeatChange"],[181,56,195,54],[181,57,195,55],[181,58,195,56],[182,4,197,2],[182,10,197,8,"stop"],[182,14,197,12],[182,17,197,15],[182,21,197,15,"useCallback"],[182,27,197,26],[182,28,197,26,"useCallback"],[182,39,197,26],[182,41,197,27],[182,47,197,33],[183,6,198,4,"isPlayingRef"],[183,18,198,16],[183,19,198,17,"current"],[183,26,198,24],[183,29,198,27],[183,34,198,32],[184,6,199,4,"setIsPlaying"],[184,18,199,16],[184,19,199,17],[184,24,199,22],[184,25,199,23],[185,6,201,4],[185,10,201,8,"schedulerIdRef"],[185,24,201,22],[185,25,201,23,"current"],[185,32,201,30],[185,37,201,35],[185,41,201,39],[185,43,201,41],[186,8,202,6,"clearTimeout"],[186,20,202,18],[186,21,202,19,"schedulerIdRef"],[186,35,202,33],[186,36,202,34,"current"],[186,43,202,41],[186,44,202,42],[187,8,203,6,"schedulerIdRef"],[187,22,203,20],[187,23,203,21,"current"],[187,30,203,28],[187,33,203,31],[187,37,203,35],[188,6,204,4],[189,6,206,4,"currentBeatIndexRef"],[189,25,206,23],[189,26,206,24,"current"],[189,33,206,31],[189,36,206,34],[189,37,206,35],[190,6,207,4,"setCurrentBeat"],[190,20,207,18],[190,21,207,19],[190,22,207,20],[190,23,207,21],[191,4,208,2],[191,5,208,3],[191,7,208,5],[191,9,208,7],[191,10,208,8],[192,4,210,2],[192,10,210,8,"toggle"],[192,16,210,14],[192,19,210,17],[192,23,210,17,"useCallback"],[192,29,210,28],[192,30,210,28,"useCallback"],[192,41,210,28],[192,43,210,29],[192,49,210,35],[193,6,211,4],[193,10,211,8,"isPlayingRef"],[193,22,211,20],[193,23,211,21,"current"],[193,30,211,28],[193,32,211,30],[194,8,212,6,"stop"],[194,12,212,10],[194,13,212,11],[194,14,212,12],[195,6,213,4],[195,7,213,5],[195,13,213,11],[196,8,214,6,"start"],[196,13,214,11],[196,14,214,12],[196,15,214,13],[197,6,215,4],[198,4,216,2],[198,5,216,3],[198,7,216,5],[198,8,216,6,"start"],[198,13,216,11],[198,15,216,13,"stop"],[198,19,216,17],[198,20,216,18],[198,21,216,19],[199,4,218,2],[199,8,218,2,"useEffect"],[199,14,218,11],[199,15,218,11,"useEffect"],[199,24,218,11],[199,26,218,12],[199,32,218,18],[200,6,219,4],[200,13,219,11],[200,19,219,17],[201,8,220,6,"isPlayingRef"],[201,20,220,18],[201,21,220,19,"current"],[201,28,220,26],[201,31,220,29],[201,36,220,34],[202,8,221,6],[202,12,221,10,"schedulerIdRef"],[202,26,221,24],[202,27,221,25,"current"],[202,34,221,32],[202,39,221,37],[202,43,221,41],[202,45,221,43],[203,10,222,8,"clearTimeout"],[203,22,222,20],[203,23,222,21,"schedulerIdRef"],[203,37,222,35],[203,38,222,36,"current"],[203,45,222,43],[203,46,222,44],[204,8,223,6],[205,8,224,6],[205,12,224,10,"audioContextRef"],[205,27,224,25],[205,28,224,26,"current"],[205,35,224,33],[205,37,224,35],[206,10,225,8,"audioContextRef"],[206,25,225,23],[206,26,225,24,"current"],[206,33,225,31],[206,34,225,32,"close"],[206,39,225,37],[206,40,225,38],[206,41,225,39],[207,10,226,8,"audioContextRef"],[207,25,226,23],[207,26,226,24,"current"],[207,33,226,31],[207,36,226,34],[207,40,226,38],[208,8,227,6],[209,6,228,4],[209,7,228,5],[210,4,229,2],[210,5,229,3],[210,7,229,5],[210,9,229,7],[210,10,229,8],[211,4,231,2],[211,11,231,9],[212,6,232,4,"isPlaying"],[212,15,232,13],[213,6,233,4,"currentBeat"],[213,17,233,15],[214,6,234,4,"audioReady"],[214,16,234,14],[215,6,235,4,"needsUserInteraction"],[215,26,235,24],[216,6,236,4,"start"],[216,11,236,9],[217,6,237,4,"stop"],[217,10,237,8],[218,6,238,4,"toggle"],[218,12,238,10],[219,6,239,4,"initAudio"],[220,4,240,2],[220,5,240,3],[221,2,241,0],[221,3,241,1],[222,2,241,2,"_s"],[222,4,241,2],[222,5,17,13,"usePlaybackEngine"],[222,22,17,30],[223,0,17,30],[223,3]],"functionMap":{"names":["<global>","usePlaybackEngine","useEffect$argument_0","initAudio","playClick","runScheduler","start","stop","toggle","<anonymous>"],"mappings":"AAA;iCCgB;YC4B;GDE;YCG;GDQ;gCEE;GF2B;gCGE;GH4B;mCIE;GJoD;4BKE;GLsB;2BME;GNW;6BOE;GPM;YCE;WOC;KPS;GDC;CDY"},"hasCjsExports":false},"type":"js/module"}]}
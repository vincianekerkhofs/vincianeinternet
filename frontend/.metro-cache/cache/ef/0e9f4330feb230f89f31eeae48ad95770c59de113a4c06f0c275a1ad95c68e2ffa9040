{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"usePlaybackEngine\", {\n    enumerable: true,\n    get: function () {\n      return usePlaybackEngine;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Unified playback engine with REAL-TIME BPM changes\n   */\n  const usePlaybackEngine = options => {\n    const {\n      bpm,\n      totalBeats,\n      loop,\n      soundEnabled,\n      volume = 0.5,\n      onBeatChange,\n      onLoopComplete\n    } = options;\n    const [isPlaying, setIsPlaying] = (0, _react.useState)(false);\n    const [currentBeat, setCurrentBeat] = (0, _react.useState)(1);\n    const [audioReady, setAudioReady] = (0, _react.useState)(false);\n    const [needsUserInteraction, setNeedsUserInteraction] = (0, _react.useState)(false);\n    const audioContextRef = (0, _react.useRef)(null);\n    const schedulerIdRef = (0, _react.useRef)(null);\n    const isPlayingRef = (0, _react.useRef)(false);\n    const soundEnabledRef = (0, _react.useRef)(soundEnabled);\n    const bpmRef = (0, _react.useRef)(bpm);\n\n    // Beat tracking - use beat index and calculate time dynamically\n    const currentBeatIndexRef = (0, _react.useRef)(0);\n    const lastBeatTimeRef = (0, _react.useRef)(0);\n    const lastScheduledBeatRef = (0, _react.useRef)(-1);\n\n    // Keep refs in sync with props\n    (0, _react.useEffect)(() => {\n      soundEnabledRef.current = soundEnabled;\n    }, [soundEnabled]);\n\n    // REAL-TIME BPM UPDATE - recalculate timing immediately\n    (0, _react.useEffect)(() => {\n      bpmRef.current = bpm;\n      // When BPM changes during playback, adjust lastBeatTime to maintain position\n      if (isPlayingRef.current && audioContextRef.current) {\n        const now = audioContextRef.current.currentTime;\n        lastBeatTimeRef.current = now;\n        // Keep the current beat index, just update when next beat should happen\n      }\n    }, [bpm]);\n    const initAudio = (0, _react.useCallback)(async () => {\n      if (Platform.default.OS !== 'web') {\n        setAudioReady(true);\n        return true;\n      }\n      try {\n        if (!audioContextRef.current) {\n          const AudioContextClass = window.AudioContext || window.webkitAudioContext;\n          if (AudioContextClass) {\n            audioContextRef.current = new AudioContextClass();\n          }\n        }\n        if (audioContextRef.current) {\n          if (audioContextRef.current.state === 'suspended') {\n            await audioContextRef.current.resume();\n          }\n          setAudioReady(true);\n          setNeedsUserInteraction(false);\n          return true;\n        }\n      } catch (error) {\n        console.error('Failed to initialize audio:', error);\n        setNeedsUserInteraction(true);\n      }\n      return false;\n    }, []);\n    const playClick = (0, _react.useCallback)((time, isAccent = false) => {\n      if (!audioContextRef.current || !soundEnabledRef.current) return;\n      const ctx = audioContextRef.current;\n      try {\n        const osc = ctx.createOscillator();\n        const gainNode = ctx.createGain();\n        osc.connect(gainNode);\n        gainNode.connect(ctx.destination);\n        osc.frequency.value = isAccent ? 1000 : 800;\n        osc.type = 'sine';\n        const attackTime = 0.001;\n        const decayTime = 0.05;\n        const clickVolume = volume * (isAccent ? 1 : 0.7);\n        gainNode.gain.setValueAtTime(0, time);\n        gainNode.gain.linearRampToValueAtTime(clickVolume, time + attackTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.001, time + attackTime + decayTime);\n        osc.start(time);\n        osc.stop(time + attackTime + decayTime + 0.01);\n      } catch (e) {\n        // Ignore audio errors\n      }\n    }, [volume]);\n    const runScheduler = (0, _react.useCallback)(() => {\n      if (!isPlayingRef.current) return;\n      const ctx = audioContextRef.current;\n      const now = ctx ? ctx.currentTime : Date.now() / 1000;\n\n      // Use CURRENT bpm from ref for real-time updates\n      const currentBpm = bpmRef.current;\n      const secondsPerBeat = 60.0 / currentBpm;\n      const scheduleAheadTime = 0.15;\n      const lookaheadMs = 25;\n\n      // Calculate time since last beat\n      const timeSinceLastBeat = now - lastBeatTimeRef.current;\n\n      // Check if it's time for next beat\n      if (timeSinceLastBeat >= secondsPerBeat) {\n        currentBeatIndexRef.current++;\n        lastBeatTimeRef.current = now;\n\n        // Handle loop\n        if (currentBeatIndexRef.current > totalBeats) {\n          if (loop) {\n            currentBeatIndexRef.current = 1;\n            lastScheduledBeatRef.current = 0;\n            onLoopComplete?.();\n          } else {\n            stop();\n            return;\n          }\n        }\n\n        // Update UI\n        const displayBeat = currentBeatIndexRef.current;\n        setCurrentBeat(displayBeat);\n        onBeatChange?.(displayBeat);\n      }\n\n      // Schedule upcoming metronome clicks\n      if (ctx) {\n        const nextBeatTime = lastBeatTimeRef.current + secondsPerBeat;\n        if (nextBeatTime < now + scheduleAheadTime && currentBeatIndexRef.current !== lastScheduledBeatRef.current) {\n          const beatToSchedule = currentBeatIndexRef.current;\n          const isAccent = (beatToSchedule - 1) % 4 === 0;\n          playClick(nextBeatTime, isAccent);\n          lastScheduledBeatRef.current = beatToSchedule;\n        }\n      }\n      schedulerIdRef.current = window.setTimeout(runScheduler, lookaheadMs);\n    }, [totalBeats, loop, playClick, onBeatChange, onLoopComplete]);\n    const start = (0, _react.useCallback)(async () => {\n      await initAudio();\n      const ctx = audioContextRef.current;\n      const now = ctx ? ctx.currentTime : Date.now() / 1000;\n      currentBeatIndexRef.current = 1;\n      lastBeatTimeRef.current = now;\n      lastScheduledBeatRef.current = 0;\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n      setCurrentBeat(1);\n      onBeatChange?.(1);\n\n      // Play first click immediately\n      if (ctx && soundEnabledRef.current) {\n        playClick(now + 0.05, true);\n        lastScheduledBeatRef.current = 1;\n      }\n      runScheduler();\n    }, [initAudio, runScheduler, playClick, onBeatChange]);\n    const stop = (0, _react.useCallback)(() => {\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (schedulerIdRef.current !== null) {\n        clearTimeout(schedulerIdRef.current);\n        schedulerIdRef.current = null;\n      }\n      currentBeatIndexRef.current = 0;\n      setCurrentBeat(1);\n    }, []);\n    const toggle = (0, _react.useCallback)(() => {\n      if (isPlayingRef.current) {\n        stop();\n      } else {\n        start();\n      }\n    }, [start, stop]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        isPlayingRef.current = false;\n        if (schedulerIdRef.current !== null) {\n          clearTimeout(schedulerIdRef.current);\n        }\n        if (audioContextRef.current) {\n          audioContextRef.current.close();\n          audioContextRef.current = null;\n        }\n      };\n    }, []);\n    return {\n      isPlaying,\n      currentBeat,\n      audioReady,\n      needsUserInteraction,\n      start,\n      stop,\n      toggle,\n      initAudio\n    };\n  };\n});","lineCount":220,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"usePlaybackEngine"],[15,30,17,0],[16,4,17,0],[17,2,17,0],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,65],[19,6,1,65,"_reactNativeWebDistExportsPlatform"],[19,40,1,65],[19,43,1,65,"require"],[19,50,1,65],[19,51,1,65,"_dependencyMap"],[19,65,1,65],[20,2,1,65],[20,6,1,65,"Platform"],[20,14,1,65],[20,17,1,65,"_interopDefault"],[20,32,1,65],[20,33,1,65,"_reactNativeWebDistExportsPlatform"],[20,67,1,65],[21,2,14,0],[22,0,15,0],[23,0,16,0],[24,2,17,7],[24,8,17,13,"usePlaybackEngine"],[24,25,17,30],[24,28,17,34,"options"],[24,35,17,64],[24,39,17,69],[25,4,18,2],[25,10,18,8],[26,6,19,4,"bpm"],[26,9,19,7],[27,6,20,4,"totalBeats"],[27,16,20,14],[28,6,21,4,"loop"],[28,10,21,8],[29,6,22,4,"soundEnabled"],[29,18,22,16],[30,6,23,4,"volume"],[30,12,23,10],[30,15,23,13],[30,18,23,16],[31,6,24,4,"onBeatChange"],[31,18,24,16],[32,6,25,4,"onLoopComplete"],[33,4,26,2],[33,5,26,3],[33,8,26,6,"options"],[33,15,26,13],[34,4,28,2],[34,10,28,8],[34,11,28,9,"isPlaying"],[34,20,28,18],[34,22,28,20,"setIsPlaying"],[34,34,28,32],[34,35,28,33],[34,38,28,36],[34,42,28,36,"useState"],[34,48,28,44],[34,49,28,44,"useState"],[34,57,28,44],[34,59,28,45],[34,64,28,50],[34,65,28,51],[35,4,29,2],[35,10,29,8],[35,11,29,9,"currentBeat"],[35,22,29,20],[35,24,29,22,"setCurrentBeat"],[35,38,29,36],[35,39,29,37],[35,42,29,40],[35,46,29,40,"useState"],[35,52,29,48],[35,53,29,48,"useState"],[35,61,29,48],[35,63,29,49],[35,64,29,50],[35,65,29,51],[36,4,30,2],[36,10,30,8],[36,11,30,9,"audioReady"],[36,21,30,19],[36,23,30,21,"setAudioReady"],[36,36,30,34],[36,37,30,35],[36,40,30,38],[36,44,30,38,"useState"],[36,50,30,46],[36,51,30,46,"useState"],[36,59,30,46],[36,61,30,47],[36,66,30,52],[36,67,30,53],[37,4,31,2],[37,10,31,8],[37,11,31,9,"needsUserInteraction"],[37,31,31,29],[37,33,31,31,"setNeedsUserInteraction"],[37,56,31,54],[37,57,31,55],[37,60,31,58],[37,64,31,58,"useState"],[37,70,31,66],[37,71,31,66,"useState"],[37,79,31,66],[37,81,31,67],[37,86,31,72],[37,87,31,73],[38,4,33,2],[38,10,33,8,"audioContextRef"],[38,25,33,23],[38,28,33,26],[38,32,33,26,"useRef"],[38,38,33,32],[38,39,33,32,"useRef"],[38,45,33,32],[38,47,33,54],[38,51,33,58],[38,52,33,59],[39,4,34,2],[39,10,34,8,"schedulerIdRef"],[39,24,34,22],[39,27,34,25],[39,31,34,25,"useRef"],[39,37,34,31],[39,38,34,31,"useRef"],[39,44,34,31],[39,46,34,47],[39,50,34,51],[39,51,34,52],[40,4,35,2],[40,10,35,8,"isPlayingRef"],[40,22,35,20],[40,25,35,23],[40,29,35,23,"useRef"],[40,35,35,29],[40,36,35,29,"useRef"],[40,42,35,29],[40,44,35,39],[40,49,35,44],[40,50,35,45],[41,4,36,2],[41,10,36,8,"soundEnabledRef"],[41,25,36,23],[41,28,36,26],[41,32,36,26,"useRef"],[41,38,36,32],[41,39,36,32,"useRef"],[41,45,36,32],[41,47,36,42,"soundEnabled"],[41,59,36,54],[41,60,36,55],[42,4,37,2],[42,10,37,8,"bpmRef"],[42,16,37,14],[42,19,37,17],[42,23,37,17,"useRef"],[42,29,37,23],[42,30,37,23,"useRef"],[42,36,37,23],[42,38,37,32,"bpm"],[42,41,37,35],[42,42,37,36],[44,4,39,2],[45,4,40,2],[45,10,40,8,"currentBeatIndexRef"],[45,29,40,27],[45,32,40,30],[45,36,40,30,"useRef"],[45,42,40,36],[45,43,40,36,"useRef"],[45,49,40,36],[45,51,40,45],[45,52,40,46],[45,53,40,47],[46,4,41,2],[46,10,41,8,"lastBeatTimeRef"],[46,25,41,23],[46,28,41,26],[46,32,41,26,"useRef"],[46,38,41,32],[46,39,41,32,"useRef"],[46,45,41,32],[46,47,41,41],[46,48,41,42],[46,49,41,43],[47,4,42,2],[47,10,42,8,"lastScheduledBeatRef"],[47,30,42,28],[47,33,42,31],[47,37,42,31,"useRef"],[47,43,42,37],[47,44,42,37,"useRef"],[47,50,42,37],[47,52,42,46],[47,53,42,47],[47,54,42,48],[47,55,42,49],[49,4,44,2],[50,4,45,2],[50,8,45,2,"useEffect"],[50,14,45,11],[50,15,45,11,"useEffect"],[50,24,45,11],[50,26,45,12],[50,32,45,18],[51,6,46,4,"soundEnabledRef"],[51,21,46,19],[51,22,46,20,"current"],[51,29,46,27],[51,32,46,30,"soundEnabled"],[51,44,46,42],[52,4,47,2],[52,5,47,3],[52,7,47,5],[52,8,47,6,"soundEnabled"],[52,20,47,18],[52,21,47,19],[52,22,47,20],[54,4,49,2],[55,4,50,2],[55,8,50,2,"useEffect"],[55,14,50,11],[55,15,50,11,"useEffect"],[55,24,50,11],[55,26,50,12],[55,32,50,18],[56,6,51,4,"bpmRef"],[56,12,51,10],[56,13,51,11,"current"],[56,20,51,18],[56,23,51,21,"bpm"],[56,26,51,24],[57,6,52,4],[58,6,53,4],[58,10,53,8,"isPlayingRef"],[58,22,53,20],[58,23,53,21,"current"],[58,30,53,28],[58,34,53,32,"audioContextRef"],[58,49,53,47],[58,50,53,48,"current"],[58,57,53,55],[58,59,53,57],[59,8,54,6],[59,14,54,12,"now"],[59,17,54,15],[59,20,54,18,"audioContextRef"],[59,35,54,33],[59,36,54,34,"current"],[59,43,54,41],[59,44,54,42,"currentTime"],[59,55,54,53],[60,8,55,6,"lastBeatTimeRef"],[60,23,55,21],[60,24,55,22,"current"],[60,31,55,29],[60,34,55,32,"now"],[60,37,55,35],[61,8,56,6],[62,6,57,4],[63,4,58,2],[63,5,58,3],[63,7,58,5],[63,8,58,6,"bpm"],[63,11,58,9],[63,12,58,10],[63,13,58,11],[64,4,60,2],[64,10,60,8,"initAudio"],[64,19,60,17],[64,22,60,20],[64,26,60,20,"useCallback"],[64,32,60,31],[64,33,60,31,"useCallback"],[64,44,60,31],[64,46,60,32],[64,58,60,44],[65,6,61,4],[65,10,61,8,"Platform"],[65,18,61,16],[65,19,61,16,"default"],[65,26,61,16],[65,27,61,17,"OS"],[65,29,61,19],[65,34,61,24],[65,39,61,29],[65,41,61,31],[66,8,62,6,"setAudioReady"],[66,21,62,19],[66,22,62,20],[66,26,62,24],[66,27,62,25],[67,8,63,6],[67,15,63,13],[67,19,63,17],[68,6,64,4],[69,6,66,4],[69,10,66,8],[70,8,67,6],[70,12,67,10],[70,13,67,11,"audioContextRef"],[70,28,67,26],[70,29,67,27,"current"],[70,36,67,34],[70,38,67,36],[71,10,68,8],[71,16,68,14,"AudioContextClass"],[71,33,68,31],[71,36,68,34,"window"],[71,42,68,40],[71,43,68,41,"AudioContext"],[71,55,68,53],[71,59,68,58,"window"],[71,65,68,64],[71,66,68,73,"webkitAudioContext"],[71,84,68,91],[72,10,69,8],[72,14,69,12,"AudioContextClass"],[72,31,69,29],[72,33,69,31],[73,12,70,10,"audioContextRef"],[73,27,70,25],[73,28,70,26,"current"],[73,35,70,33],[73,38,70,36],[73,42,70,40,"AudioContextClass"],[73,59,70,57],[73,60,70,58],[73,61,70,59],[74,10,71,8],[75,8,72,6],[76,8,74,6],[76,12,74,10,"audioContextRef"],[76,27,74,25],[76,28,74,26,"current"],[76,35,74,33],[76,37,74,35],[77,10,75,8],[77,14,75,12,"audioContextRef"],[77,29,75,27],[77,30,75,28,"current"],[77,37,75,35],[77,38,75,36,"state"],[77,43,75,41],[77,48,75,46],[77,59,75,57],[77,61,75,59],[78,12,76,10],[78,18,76,16,"audioContextRef"],[78,33,76,31],[78,34,76,32,"current"],[78,41,76,39],[78,42,76,40,"resume"],[78,48,76,46],[78,49,76,47],[78,50,76,48],[79,10,77,8],[80,10,78,8,"setAudioReady"],[80,23,78,21],[80,24,78,22],[80,28,78,26],[80,29,78,27],[81,10,79,8,"setNeedsUserInteraction"],[81,33,79,31],[81,34,79,32],[81,39,79,37],[81,40,79,38],[82,10,80,8],[82,17,80,15],[82,21,80,19],[83,8,81,6],[84,6,82,4],[84,7,82,5],[84,8,82,6],[84,15,82,13,"error"],[84,20,82,18],[84,22,82,20],[85,8,83,6,"console"],[85,15,83,13],[85,16,83,14,"error"],[85,21,83,19],[85,22,83,20],[85,51,83,49],[85,53,83,51,"error"],[85,58,83,56],[85,59,83,57],[86,8,84,6,"setNeedsUserInteraction"],[86,31,84,29],[86,32,84,30],[86,36,84,34],[86,37,84,35],[87,6,85,4],[88,6,86,4],[88,13,86,11],[88,18,86,16],[89,4,87,2],[89,5,87,3],[89,7,87,5],[89,9,87,7],[89,10,87,8],[90,4,89,2],[90,10,89,8,"playClick"],[90,19,89,17],[90,22,89,20],[90,26,89,20,"useCallback"],[90,32,89,31],[90,33,89,31,"useCallback"],[90,44,89,31],[90,46,89,32],[90,47,89,33,"time"],[90,51,89,45],[90,53,89,47,"isAccent"],[90,61,89,64],[90,64,89,67],[90,69,89,72],[90,74,89,77],[91,6,90,4],[91,10,90,8],[91,11,90,9,"audioContextRef"],[91,26,90,24],[91,27,90,25,"current"],[91,34,90,32],[91,38,90,36],[91,39,90,37,"soundEnabledRef"],[91,54,90,52],[91,55,90,53,"current"],[91,62,90,60],[91,64,90,62],[92,6,92,4],[92,12,92,10,"ctx"],[92,15,92,13],[92,18,92,16,"audioContextRef"],[92,33,92,31],[92,34,92,32,"current"],[92,41,92,39],[93,6,94,4],[93,10,94,8],[94,8,95,6],[94,14,95,12,"osc"],[94,17,95,15],[94,20,95,18,"ctx"],[94,23,95,21],[94,24,95,22,"createOscillator"],[94,40,95,38],[94,41,95,39],[94,42,95,40],[95,8,96,6],[95,14,96,12,"gainNode"],[95,22,96,20],[95,25,96,23,"ctx"],[95,28,96,26],[95,29,96,27,"createGain"],[95,39,96,37],[95,40,96,38],[95,41,96,39],[96,8,98,6,"osc"],[96,11,98,9],[96,12,98,10,"connect"],[96,19,98,17],[96,20,98,18,"gainNode"],[96,28,98,26],[96,29,98,27],[97,8,99,6,"gainNode"],[97,16,99,14],[97,17,99,15,"connect"],[97,24,99,22],[97,25,99,23,"ctx"],[97,28,99,26],[97,29,99,27,"destination"],[97,40,99,38],[97,41,99,39],[98,8,101,6,"osc"],[98,11,101,9],[98,12,101,10,"frequency"],[98,21,101,19],[98,22,101,20,"value"],[98,27,101,25],[98,30,101,28,"isAccent"],[98,38,101,36],[98,41,101,39],[98,45,101,43],[98,48,101,46],[98,51,101,49],[99,8,102,6,"osc"],[99,11,102,9],[99,12,102,10,"type"],[99,16,102,14],[99,19,102,17],[99,25,102,23],[100,8,104,6],[100,14,104,12,"attackTime"],[100,24,104,22],[100,27,104,25],[100,32,104,30],[101,8,105,6],[101,14,105,12,"decayTime"],[101,23,105,21],[101,26,105,24],[101,30,105,28],[102,8,106,6],[102,14,106,12,"clickVolume"],[102,25,106,23],[102,28,106,26,"volume"],[102,34,106,32],[102,38,106,36,"isAccent"],[102,46,106,44],[102,49,106,47],[102,50,106,48],[102,53,106,51],[102,56,106,54],[102,57,106,55],[103,8,108,6,"gainNode"],[103,16,108,14],[103,17,108,15,"gain"],[103,21,108,19],[103,22,108,20,"setValueAtTime"],[103,36,108,34],[103,37,108,35],[103,38,108,36],[103,40,108,38,"time"],[103,44,108,42],[103,45,108,43],[104,8,109,6,"gainNode"],[104,16,109,14],[104,17,109,15,"gain"],[104,21,109,19],[104,22,109,20,"linearRampToValueAtTime"],[104,45,109,43],[104,46,109,44,"clickVolume"],[104,57,109,55],[104,59,109,57,"time"],[104,63,109,61],[104,66,109,64,"attackTime"],[104,76,109,74],[104,77,109,75],[105,8,110,6,"gainNode"],[105,16,110,14],[105,17,110,15,"gain"],[105,21,110,19],[105,22,110,20,"exponentialRampToValueAtTime"],[105,50,110,48],[105,51,110,49],[105,56,110,54],[105,58,110,56,"time"],[105,62,110,60],[105,65,110,63,"attackTime"],[105,75,110,73],[105,78,110,76,"decayTime"],[105,87,110,85],[105,88,110,86],[106,8,112,6,"osc"],[106,11,112,9],[106,12,112,10,"start"],[106,17,112,15],[106,18,112,16,"time"],[106,22,112,20],[106,23,112,21],[107,8,113,6,"osc"],[107,11,113,9],[107,12,113,10,"stop"],[107,16,113,14],[107,17,113,15,"time"],[107,21,113,19],[107,24,113,22,"attackTime"],[107,34,113,32],[107,37,113,35,"decayTime"],[107,46,113,44],[107,49,113,47],[107,53,113,51],[107,54,113,52],[108,6,114,4],[108,7,114,5],[108,8,114,6],[108,15,114,13,"e"],[108,16,114,14],[108,18,114,16],[109,8,115,6],[110,6,115,6],[111,4,117,2],[111,5,117,3],[111,7,117,5],[111,8,117,6,"volume"],[111,14,117,12],[111,15,117,13],[111,16,117,14],[112,4,119,2],[112,10,119,8,"runScheduler"],[112,22,119,20],[112,25,119,23],[112,29,119,23,"useCallback"],[112,35,119,34],[112,36,119,34,"useCallback"],[112,47,119,34],[112,49,119,35],[112,55,119,41],[113,6,120,4],[113,10,120,8],[113,11,120,9,"isPlayingRef"],[113,23,120,21],[113,24,120,22,"current"],[113,31,120,29],[113,33,120,31],[114,6,122,4],[114,12,122,10,"ctx"],[114,15,122,13],[114,18,122,16,"audioContextRef"],[114,33,122,31],[114,34,122,32,"current"],[114,41,122,39],[115,6,123,4],[115,12,123,10,"now"],[115,15,123,13],[115,18,123,16,"ctx"],[115,21,123,19],[115,24,123,22,"ctx"],[115,27,123,25],[115,28,123,26,"currentTime"],[115,39,123,37],[115,42,123,41,"Date"],[115,46,123,45],[115,47,123,46,"now"],[115,50,123,49],[115,51,123,50],[115,52,123,51],[115,55,123,54],[115,59,123,59],[117,6,125,4],[118,6,126,4],[118,12,126,10,"currentBpm"],[118,22,126,20],[118,25,126,23,"bpmRef"],[118,31,126,29],[118,32,126,30,"current"],[118,39,126,37],[119,6,127,4],[119,12,127,10,"secondsPerBeat"],[119,26,127,24],[119,29,127,27],[119,33,127,31],[119,36,127,34,"currentBpm"],[119,46,127,44],[120,6,128,4],[120,12,128,10,"scheduleAheadTime"],[120,29,128,27],[120,32,128,30],[120,36,128,34],[121,6,129,4],[121,12,129,10,"lookaheadMs"],[121,23,129,21],[121,26,129,24],[121,28,129,26],[123,6,131,4],[124,6,132,4],[124,12,132,10,"timeSinceLastBeat"],[124,29,132,27],[124,32,132,30,"now"],[124,35,132,33],[124,38,132,36,"lastBeatTimeRef"],[124,53,132,51],[124,54,132,52,"current"],[124,61,132,59],[126,6,134,4],[127,6,135,4],[127,10,135,8,"timeSinceLastBeat"],[127,27,135,25],[127,31,135,29,"secondsPerBeat"],[127,45,135,43],[127,47,135,45],[128,8,136,6,"currentBeatIndexRef"],[128,27,136,25],[128,28,136,26,"current"],[128,35,136,33],[128,37,136,35],[129,8,137,6,"lastBeatTimeRef"],[129,23,137,21],[129,24,137,22,"current"],[129,31,137,29],[129,34,137,32,"now"],[129,37,137,35],[131,8,139,6],[132,8,140,6],[132,12,140,10,"currentBeatIndexRef"],[132,31,140,29],[132,32,140,30,"current"],[132,39,140,37],[132,42,140,40,"totalBeats"],[132,52,140,50],[132,54,140,52],[133,10,141,8],[133,14,141,12,"loop"],[133,18,141,16],[133,20,141,18],[134,12,142,10,"currentBeatIndexRef"],[134,31,142,29],[134,32,142,30,"current"],[134,39,142,37],[134,42,142,40],[134,43,142,41],[135,12,143,10,"lastScheduledBeatRef"],[135,32,143,30],[135,33,143,31,"current"],[135,40,143,38],[135,43,143,41],[135,44,143,42],[136,12,144,10,"onLoopComplete"],[136,26,144,24],[136,29,144,27],[136,30,144,28],[137,10,145,8],[137,11,145,9],[137,17,145,15],[138,12,146,10,"stop"],[138,16,146,14],[138,17,146,15],[138,18,146,16],[139,12,147,10],[140,10,148,8],[141,8,149,6],[143,8,151,6],[144,8,152,6],[144,14,152,12,"displayBeat"],[144,25,152,23],[144,28,152,26,"currentBeatIndexRef"],[144,47,152,45],[144,48,152,46,"current"],[144,55,152,53],[145,8,153,6,"setCurrentBeat"],[145,22,153,20],[145,23,153,21,"displayBeat"],[145,34,153,32],[145,35,153,33],[146,8,154,6,"onBeatChange"],[146,20,154,18],[146,23,154,21,"displayBeat"],[146,34,154,32],[146,35,154,33],[147,6,155,4],[149,6,157,4],[150,6,158,4],[150,10,158,8,"ctx"],[150,13,158,11],[150,15,158,13],[151,8,159,6],[151,14,159,12,"nextBeatTime"],[151,26,159,24],[151,29,159,27,"lastBeatTimeRef"],[151,44,159,42],[151,45,159,43,"current"],[151,52,159,50],[151,55,159,53,"secondsPerBeat"],[151,69,159,67],[152,8,161,6],[152,12,161,10,"nextBeatTime"],[152,24,161,22],[152,27,161,25,"now"],[152,30,161,28],[152,33,161,31,"scheduleAheadTime"],[152,50,161,48],[152,54,162,10,"currentBeatIndexRef"],[152,73,162,29],[152,74,162,30,"current"],[152,81,162,37],[152,86,162,42,"lastScheduledBeatRef"],[152,106,162,62],[152,107,162,63,"current"],[152,114,162,70],[152,116,162,72],[153,10,163,8],[153,16,163,14,"beatToSchedule"],[153,30,163,28],[153,33,163,31,"currentBeatIndexRef"],[153,52,163,50],[153,53,163,51,"current"],[153,60,163,58],[154,10,164,8],[154,16,164,14,"isAccent"],[154,24,164,22],[154,27,164,25],[154,28,164,26,"beatToSchedule"],[154,42,164,40],[154,45,164,43],[154,46,164,44],[154,50,164,48],[154,51,164,49],[154,56,164,54],[154,57,164,55],[155,10,165,8,"playClick"],[155,19,165,17],[155,20,165,18,"nextBeatTime"],[155,32,165,30],[155,34,165,32,"isAccent"],[155,42,165,40],[155,43,165,41],[156,10,166,8,"lastScheduledBeatRef"],[156,30,166,28],[156,31,166,29,"current"],[156,38,166,36],[156,41,166,39,"beatToSchedule"],[156,55,166,53],[157,8,167,6],[158,6,168,4],[159,6,170,4,"schedulerIdRef"],[159,20,170,18],[159,21,170,19,"current"],[159,28,170,26],[159,31,170,29,"window"],[159,37,170,35],[159,38,170,36,"setTimeout"],[159,48,170,46],[159,49,170,47,"runScheduler"],[159,61,170,59],[159,63,170,61,"lookaheadMs"],[159,74,170,72],[159,75,170,73],[160,4,171,2],[160,5,171,3],[160,7,171,5],[160,8,171,6,"totalBeats"],[160,18,171,16],[160,20,171,18,"loop"],[160,24,171,22],[160,26,171,24,"playClick"],[160,35,171,33],[160,37,171,35,"onBeatChange"],[160,49,171,47],[160,51,171,49,"onLoopComplete"],[160,65,171,63],[160,66,171,64],[160,67,171,65],[161,4,173,2],[161,10,173,8,"start"],[161,15,173,13],[161,18,173,16],[161,22,173,16,"useCallback"],[161,28,173,27],[161,29,173,27,"useCallback"],[161,40,173,27],[161,42,173,28],[161,54,173,40],[162,6,174,4],[162,12,174,10,"initAudio"],[162,21,174,19],[162,22,174,20],[162,23,174,21],[163,6,176,4],[163,12,176,10,"ctx"],[163,15,176,13],[163,18,176,16,"audioContextRef"],[163,33,176,31],[163,34,176,32,"current"],[163,41,176,39],[164,6,177,4],[164,12,177,10,"now"],[164,15,177,13],[164,18,177,16,"ctx"],[164,21,177,19],[164,24,177,22,"ctx"],[164,27,177,25],[164,28,177,26,"currentTime"],[164,39,177,37],[164,42,177,41,"Date"],[164,46,177,45],[164,47,177,46,"now"],[164,50,177,49],[164,51,177,50],[164,52,177,51],[164,55,177,54],[164,59,177,59],[165,6,179,4,"currentBeatIndexRef"],[165,25,179,23],[165,26,179,24,"current"],[165,33,179,31],[165,36,179,34],[165,37,179,35],[166,6,180,4,"lastBeatTimeRef"],[166,21,180,19],[166,22,180,20,"current"],[166,29,180,27],[166,32,180,30,"now"],[166,35,180,33],[167,6,181,4,"lastScheduledBeatRef"],[167,26,181,24],[167,27,181,25,"current"],[167,34,181,32],[167,37,181,35],[167,38,181,36],[168,6,182,4,"isPlayingRef"],[168,18,182,16],[168,19,182,17,"current"],[168,26,182,24],[168,29,182,27],[168,33,182,31],[169,6,184,4,"setIsPlaying"],[169,18,184,16],[169,19,184,17],[169,23,184,21],[169,24,184,22],[170,6,185,4,"setCurrentBeat"],[170,20,185,18],[170,21,185,19],[170,22,185,20],[170,23,185,21],[171,6,186,4,"onBeatChange"],[171,18,186,16],[171,21,186,19],[171,22,186,20],[171,23,186,21],[173,6,188,4],[174,6,189,4],[174,10,189,8,"ctx"],[174,13,189,11],[174,17,189,15,"soundEnabledRef"],[174,32,189,30],[174,33,189,31,"current"],[174,40,189,38],[174,42,189,40],[175,8,190,6,"playClick"],[175,17,190,15],[175,18,190,16,"now"],[175,21,190,19],[175,24,190,22],[175,28,190,26],[175,30,190,28],[175,34,190,32],[175,35,190,33],[176,8,191,6,"lastScheduledBeatRef"],[176,28,191,26],[176,29,191,27,"current"],[176,36,191,34],[176,39,191,37],[176,40,191,38],[177,6,192,4],[178,6,194,4,"runScheduler"],[178,18,194,16],[178,19,194,17],[178,20,194,18],[179,4,195,2],[179,5,195,3],[179,7,195,5],[179,8,195,6,"initAudio"],[179,17,195,15],[179,19,195,17,"runScheduler"],[179,31,195,29],[179,33,195,31,"playClick"],[179,42,195,40],[179,44,195,42,"onBeatChange"],[179,56,195,54],[179,57,195,55],[179,58,195,56],[180,4,197,2],[180,10,197,8,"stop"],[180,14,197,12],[180,17,197,15],[180,21,197,15,"useCallback"],[180,27,197,26],[180,28,197,26,"useCallback"],[180,39,197,26],[180,41,197,27],[180,47,197,33],[181,6,198,4,"isPlayingRef"],[181,18,198,16],[181,19,198,17,"current"],[181,26,198,24],[181,29,198,27],[181,34,198,32],[182,6,199,4,"setIsPlaying"],[182,18,199,16],[182,19,199,17],[182,24,199,22],[182,25,199,23],[183,6,201,4],[183,10,201,8,"schedulerIdRef"],[183,24,201,22],[183,25,201,23,"current"],[183,32,201,30],[183,37,201,35],[183,41,201,39],[183,43,201,41],[184,8,202,6,"clearTimeout"],[184,20,202,18],[184,21,202,19,"schedulerIdRef"],[184,35,202,33],[184,36,202,34,"current"],[184,43,202,41],[184,44,202,42],[185,8,203,6,"schedulerIdRef"],[185,22,203,20],[185,23,203,21,"current"],[185,30,203,28],[185,33,203,31],[185,37,203,35],[186,6,204,4],[187,6,206,4,"currentBeatIndexRef"],[187,25,206,23],[187,26,206,24,"current"],[187,33,206,31],[187,36,206,34],[187,37,206,35],[188,6,207,4,"setCurrentBeat"],[188,20,207,18],[188,21,207,19],[188,22,207,20],[188,23,207,21],[189,4,208,2],[189,5,208,3],[189,7,208,5],[189,9,208,7],[189,10,208,8],[190,4,210,2],[190,10,210,8,"toggle"],[190,16,210,14],[190,19,210,17],[190,23,210,17,"useCallback"],[190,29,210,28],[190,30,210,28,"useCallback"],[190,41,210,28],[190,43,210,29],[190,49,210,35],[191,6,211,4],[191,10,211,8,"isPlayingRef"],[191,22,211,20],[191,23,211,21,"current"],[191,30,211,28],[191,32,211,30],[192,8,212,6,"stop"],[192,12,212,10],[192,13,212,11],[192,14,212,12],[193,6,213,4],[193,7,213,5],[193,13,213,11],[194,8,214,6,"start"],[194,13,214,11],[194,14,214,12],[194,15,214,13],[195,6,215,4],[196,4,216,2],[196,5,216,3],[196,7,216,5],[196,8,216,6,"start"],[196,13,216,11],[196,15,216,13,"stop"],[196,19,216,17],[196,20,216,18],[196,21,216,19],[197,4,218,2],[197,8,218,2,"useEffect"],[197,14,218,11],[197,15,218,11,"useEffect"],[197,24,218,11],[197,26,218,12],[197,32,218,18],[198,6,219,4],[198,13,219,11],[198,19,219,17],[199,8,220,6,"isPlayingRef"],[199,20,220,18],[199,21,220,19,"current"],[199,28,220,26],[199,31,220,29],[199,36,220,34],[200,8,221,6],[200,12,221,10,"schedulerIdRef"],[200,26,221,24],[200,27,221,25,"current"],[200,34,221,32],[200,39,221,37],[200,43,221,41],[200,45,221,43],[201,10,222,8,"clearTimeout"],[201,22,222,20],[201,23,222,21,"schedulerIdRef"],[201,37,222,35],[201,38,222,36,"current"],[201,45,222,43],[201,46,222,44],[202,8,223,6],[203,8,224,6],[203,12,224,10,"audioContextRef"],[203,27,224,25],[203,28,224,26,"current"],[203,35,224,33],[203,37,224,35],[204,10,225,8,"audioContextRef"],[204,25,225,23],[204,26,225,24,"current"],[204,33,225,31],[204,34,225,32,"close"],[204,39,225,37],[204,40,225,38],[204,41,225,39],[205,10,226,8,"audioContextRef"],[205,25,226,23],[205,26,226,24,"current"],[205,33,226,31],[205,36,226,34],[205,40,226,38],[206,8,227,6],[207,6,228,4],[207,7,228,5],[208,4,229,2],[208,5,229,3],[208,7,229,5],[208,9,229,7],[208,10,229,8],[209,4,231,2],[209,11,231,9],[210,6,232,4,"isPlaying"],[210,15,232,13],[211,6,233,4,"currentBeat"],[211,17,233,15],[212,6,234,4,"audioReady"],[212,16,234,14],[213,6,235,4,"needsUserInteraction"],[213,26,235,24],[214,6,236,4,"start"],[214,11,236,9],[215,6,237,4,"stop"],[215,10,237,8],[216,6,238,4,"toggle"],[216,12,238,10],[217,6,239,4,"initAudio"],[218,4,240,2],[218,5,240,3],[219,2,241,0],[219,3,241,1],[220,0,241,2],[220,3]],"functionMap":{"names":["<global>","usePlaybackEngine","useEffect$argument_0","initAudio","playClick","runScheduler","start","stop","toggle","<anonymous>"],"mappings":"AAA;iCCgB;YC4B;GDE;YCG;GDQ;gCEE;GF2B;gCGE;GH4B;mCIE;GJoD;4BKE;GLsB;2BME;GNW;6BOE;GPM;YCE;WOC;KPS;GDC;CDY"},"hasCjsExports":false},"type":"js/module"}]}